{"version":3,"sources":["components/header/Header.js","services/swap-service.js","components/card/CardItem.js","components/item-list/item-list.js","components/main-page/index.js","components/main-page/main-page.js","App.js","index.js"],"names":["Header","Navbar","bg","variant","Nav","Link","Form","inline","FormControl","type","placeholder","className","Button","onClick","Component","getData","id","a","fetch","res","ok","Error","statusText","json","out","getPokeMain","nameOrId","pointer","pokeMain","CardItem","state","prevProps","this","props","isLoading","name","activeItem","setState","Spinner","animation","size","front_default","sprites","other","dream_world","Card","style","width","Img","src","Body","Title","textTransform","ItemList","countItems","getBoundaryIndex","reverse","index","itemList","boundaryIndex","length","url","match","Number","prevState","snapshot","arr","map","item","ListGroup","Item","getActive","action","items","renderItems","disabled","getNewList","MainPage","getActiveItem","dowloadData","then","response","getListOfPersons","limit","offset","query","resp","results","urlOrId","Math","floor","random","data","Container","Row","Col","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.94e0c484.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Navbar, Nav, Form, FormControl, Button } from 'react-bootstrap';\r\n\r\nexport default class Header extends Component {\r\n  render() {\r\n    return (\r\n      <Navbar bg=\"dark\" variant=\"secondary\">\r\n        <Nav>\r\n          <Nav.Link>Home</Nav.Link>\r\n          <Nav.Link>Рликамп</Nav.Link>\r\n          <Nav.Link>Саватар</Nav.Link>\r\n          <Nav.Link>Субердумп</Nav.Link>\r\n          <Form inline>\r\n            <FormControl type='text' placeholder=\"Найти персонажа\" className=\"mr-sm-2\"/>\r\n            <Button\r\n            onClick = {() =>{}}\r\n            >Найти</Button>\r\n          </Form>\r\n        </Nav>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n","const _apiBase = 'https://pokeapi.co/api/v2/pokemon/';\r\n\r\nconst getData = async (id) => {\r\n  // console.log('getData fetch:', `${_apiBase}${id}`);\r\n  const res = await fetch(`${_apiBase}${id}`);\r\n\r\n  if (!res.ok) {\r\n    throw new Error('Что-то пошло не так:', res.statusText);\r\n  }\r\n  const out = await res.json();\r\n  return await out;\r\n};\r\n\r\nconst getFullUrl = async (urlOrId) => {\r\n  const res = await fetch(`url`);\r\n  // console.log('getFullUrl:', `url`);\r\n\r\n  if (!res.ok) {\r\n    throw new Error('Что-то пошло не так');\r\n  }\r\n  const out = await res.json();\r\n  // console.log('getFullUrl:', out);\r\n\r\n  return await out;\r\n};\r\nconst testFunc = (id)=>{console.log('test', id);\r\n}\r\nconst getPokeMain = async (nameOrId) => {\r\n  //nameOrId = 'pokemon/2/';\r\n  const pointer = `${nameOrId}`;\r\n  //console.log('getPokeMain-pointer', pointer);\r\n\r\n  const pokeMain = await getData(`${pointer}`);\r\n  // console.log('getPokeMain-pokeMain', await pokeMain);\r\n  return pokeMain;\r\n};\r\nexport { getData, getPokeMain };\r\n","import React, { Component } from 'react';\r\nimport { Card, Button, Spinner } from 'react-bootstrap';\r\nimport { getPokeMain } from '../../services/swap-service';\r\n\r\nexport default class CardItem extends Component {\r\n  state = {\r\n  \r\n  };\r\n  \r\n  componentDidMount() {\r\n  \r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if(this.props.isLoading)return\r\n    const { name } = this.props.activeItem\r\n    // console.log('card this.props', name);\r\n    if (prevProps.activeItem != null){\r\n      if ( prevProps.activeItem.name === name)return\r\n    }\r\n    \r\n\r\n    this.setState({\r\n      activeItem: name\r\n    });\r\n    // console.log('componentDidUpdate', name);\r\n  }\r\n  render() {\r\n    if(!this.props.activeItem){\r\n      return(\r\n        <Spinner animation=\"border\" variant=\"primary\" size=\"lg\" />\r\n      )\r\n    }\r\n    const { name, sprites:{\r\n            other:{\r\n            dream_world:{\r\n            front_default\r\n          }\r\n        }\r\n      }\r\n    } = this.props.activeItem;\r\n    \r\n    return (\r\n      <Card style={{ width: '18rem' }}>\r\n        <Card.Img variant=\"top\" src={front_default}/>\r\n        <Card.Body>\r\n          <Card.Title style = {{textTransform: 'capitalize'}}>{name}</Card.Title>\r\n          \r\n          <Button variant=\"primary\">Показать больше</Button>\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\nimport { ListGroup, Button, Spinner } from 'react-bootstrap';\r\nimport getData from '../../services/swap-service';\r\n\r\nexport default class ItemList extends Component {\r\n  state={\r\n    countItems:0\r\n  }\r\n  componentDidMount() {\r\n    //if (this.props.itemList == null)return\r\n  }\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevProps === this.props)return\r\n    // this.setState({\r\n    //   countItems:this.getBoundaryIndex()\r\n    // })\r\n  }\r\n  \r\n  renderItems(arr) {\r\n    if (!arr) arr = this.state.itemList;\r\n    return arr.map((item, index) => {\r\n      return (\r\n        <ListGroup.Item\r\n          onClick={() => {\r\n            this.props.getActive(item);\r\n          }}\r\n          className=\"flex-md-grow-1\"\r\n          action\r\n          variant=\"secondary\"\r\n          key={index}\r\n        >\r\n          {item.name}\r\n        </ListGroup.Item>\r\n      );\r\n    });\r\n  }\r\n  getBoundaryIndex = (reverse=false)=>{\r\n    if (reverse){}\r\n    const index = this.props.itemList\r\n    let boundaryItem = 0;\r\n    if(reverse){\r\n     boundaryItem = this.props.itemList[0]\r\n    }else{\r\n      boundaryItem = this.props.itemList[index.length - 1];\r\n    }\r\n    let boundaryIndex = boundaryItem.url.match(/(\\d+)(?!.*\\d)/g)[0];\r\n\r\n    return Number(boundaryIndex)\r\n  }\r\n  render() {\r\n    const countList = 5\r\n       let btnOff = () =>{\r\n      const t = this.getBoundaryIndex(true) - countList;\r\n      return t < 0 ? true : false\r\n     }\r\n    \r\n    if (this.props.itemList === null){\r\n      return <Spinner/>\r\n    }\r\n    const { itemList } = this.props;\r\n    const items = this.renderItems(itemList);\r\n    return (\r\n      <Fragment>\r\n        <ListGroup className=\"flex-grow-1\" variant=\"primary\">\r\n          <Button\r\n            disabled ={btnOff()}\r\n            onClick = {()=>{\r\n              this.props.getNewList(countList,this.getBoundaryIndex(true) -countList )\r\n            }}\r\n          >Предыдущие {countList}</Button>\r\n          {items}\r\n          <Button\r\n            onClick = {()=>{this.props.getNewList(countList,this.getBoundaryIndex())}}\r\n          >Следующие 5</Button>\r\n        </ListGroup>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n","import MainPage from \"./main-page\";\r\n\r\nexport default MainPage","import React, { Component, Fragment } from 'react';\r\nimport CardItem from '../card/CardItem';\r\nimport {getData, getPokeMain} from '../../services/swap-service';\r\nimport ItemList from '../item-list/item-list';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport './main-page.css'\r\n\r\nexport default class MainPage extends Component {\r\n  state = {\r\n    isLoading: true,\r\n    itemList: null,\r\n    activeItem:null\r\n  };\r\n  async dowloadData(urlOrId) {\r\n    \r\n    if (typeof(urlOrId) === 'undefined'){\r\n      urlOrId = Math.floor(Math.random() * 10);\r\n    }\r\n    //OrId = OrId.match(/\\/([0-9])*\\/$/)\r\n    //console.log('card-downloadData-OrId', OrId)\r\n    const data = await getPokeMain(urlOrId);\r\n    // console.log('OrId', urlOrId);\r\n    return await data;\r\n  }\r\n  getActiveItem = (url) => {\r\n    this.setState({isLoading: true})\r\n    //console.log('index-getActiveItem', url);\r\n    this.dowloadData(url.name)\r\n      .then((response) =>{\r\n        this.setState({\r\n          activeItem: response,\r\n          isLoading: false,\r\n        })\r\n      })\r\n    ;\r\n    //console.log('this.state.activeItem:', this.state.activeItem);\r\n  };\r\n   getListOfPersons = async(limit = 10, offset)=>{\r\n    if (offset < 0) offset = 0;\r\n    const query = `?limit=${limit}&offset=${offset}`;\r\n    await getData(`${query}`)\r\n      .then((resp) =>{\r\n        // console.log(resp.results)\r\n        this.setState({\r\n          itemList: resp.results\r\n        })\r\n      })\r\n  }\r\n  componentDidMount() {\r\n    this.getListOfPersons();\r\n  }\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevState === this.state) return\r\n    \r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <Fragment>\r\n          <Container>\r\n            <Row>\r\n              <Col>\r\n                <ItemList\r\n                  getActive={this.getActiveItem}\r\n                  itemList={this.state.itemList}\r\n                  getNewList = {this.getListOfPersons}\r\n                />\r\n              </Col>\r\n              <Col>\r\n                <CardItem activeItem={this.state.activeItem} isLoading={this.state.isLoading} />\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n","import React, {Component, Fragment} from 'react';\r\nimport Header from './components/header/Header';\r\nimport MainPage from './components/main-page/'\r\nimport BrowserRouter, {Route} from 'react-router-dom'\r\n\r\n\r\nexport default class App extends Component{\r\n  \r\n  render(){\r\n    return(\r\n      <Fragment>\r\n        <Header />\r\n      \r\n        <MainPage/>\r\n    \r\n      </Fragment>\r\n    )\r\n  }\r\n  \r\n};\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}